(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{31:function(e,t,n){e.exports=n(55)},41:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),u=n.n(c),o=n(2),l=n(11),s=n(16),i=n(4),m=n(10),E=n(28),f=n(29),b=n(13),O=n.n(b),d=n(20),p=function(e){return fetch("".concat("https://mate-api.herokuapp.com").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data}))},v=function(){var e=Object(d.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/todos");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/users/".concat(t));case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){return{type:"GET_TODOS",value:e}},j=function(e){return{type:"SET_QUERY",value:e}},h=function(e){return{type:"SET_USERID",value:e}},R=function(e){return e.todos},S=function(e){return e.isErrorTODO},y=function(e){return e.errorText},U=function(e){return e.query},N=function(e){return e.user},g=function(e){return e.userId},x=function(e){return e.isErrorUser},I=function(e){return e.userErrorText},k={todos:[],isErrorTODO:!1,isErrorUser:!1,errorText:"",userErrorText:"",query:"",sortBy:"",user:{},userId:0},w=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:Object(s.a)(t.value)});case"TODOS_ERROR_STATE":return Object(i.a)(Object(i.a)({},e),{},{isErrorTODO:t.value});case"TODOS_ERROR_TEXT":return Object(i.a)(Object(i.a)({},e),{},{errorText:t.value});case"SET_QUERY":return Object(i.a)(Object(i.a)({},e),{},{query:t.value});case"SET_SORTBY":return Object(i.a)(Object(i.a)({},e),{},{sortBy:t.value});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.value});case"SET_USERID":return Object(i.a)(Object(i.a)({},e),{},{userId:t.value});case"SET_USER_ERROR_STATE":return Object(i.a)(Object(i.a)({},e),{},{isErrorUser:t.value});case"USER_ERROR_TEXT":return Object(i.a)(Object(i.a)({},e),{},{userErrorText:t.value});default:return e}}),Object(E.composeWithDevTools)(Object(m.applyMiddleware)(f.a))),C=n(3),L=(n(41),n(30)),D=n.n(L),B=function(){var e=Object(o.b)(),t=Object(o.c)(R),n=Object(C.e)(),c=Object(C.d)(),u=new URLSearchParams(n.search),l=u.get("sortBy")||"",i=Object(o.c)(U),m=Object(r.useCallback)(D()((function(e){e?u.set("query",e):u.delete("query"),c.push({search:u.toString()})}),500),[]),E=Object(r.useCallback)((function(e){e?u.set("sortBy",e):u.delete("sortBy"),c.push({search:u.toString()})}),[l]);return a.a.createElement("div",{className:"TodoList"},a.a.createElement("h2",null,"List of Todos:"),a.a.createElement("div",{className:"TodoList__container"},a.a.createElement("button",{type:"button",className:"Randomize",onClick:function(){for(var n=Object(s.a)(t),r=n.length-1;r>0;r-=1){var a=Math.floor(Math.random()*(r+1)),c=n[r];n[r]=n[a],n[a]=c}e(T(n))}},"Randomize"),a.a.createElement("label",null,a.a.createElement("input",{type:"text",name:"title",value:i,placeholder:"Filter by title",onChange:function(t){var n=t.target.value;e(j(n)),m(n)}})),a.a.createElement("select",{name:"status",value:l,onChange:function(e){var t=e.target.value;E(t)}},a.a.createElement("option",{value:""},"Choose status"),a.a.createElement("option",{value:"all"},"All"),a.a.createElement("option",{value:"false"},"Active"),a.a.createElement("option",{value:"true"},"Completed"))))},A=(n(53),function(){var e=Object(o.b)(),t=Object(o.c)(N),n=Object(o.c)(g),c=function(){return e((t=n,function(e){_(t).then((function(t){e(function(e){return{type:"SET_USER",value:e}}(t))})).catch((function(t){e({type:"SET_USER_ERROR_STATE",value:!0}),e(function(e){return{type:"USER_ERROR_TEXT",value:e}}(t.message))}))}));var t};return Object(r.useEffect)((function(){c()}),[n]),t?a.a.createElement("div",{className:"UserInfo"},a.a.createElement("h2",{className:"UserInfo__title"},a.a.createElement("span",null,"Selected user#",t.id)),a.a.createElement("h3",{className:"UserInfo__name"},t.name),a.a.createElement("p",{className:"UserInfo__email"},t.email),a.a.createElement("p",{className:"UserInfo__phone"},t.phone),a.a.createElement("button",{type:"button",className:"UserInfo__button",onClick:function(){t.id&&e(h(0))}},"Clear User")):a.a.createElement("h3",{className:"UserInfo__selected"}," No User Selected ")}),q=function(e){var t=e.todo,n=Object(o.b)(),r=Object(o.c)(R),c=Object(o.c)(g);return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",readOnly:!0}),a.a.createElement("p",null,t.title)),a.a.createElement("div",{className:"Button_container"},c===t.userId?a.a.createElement("button",{type:"button",className:"TodoList__user-button--selected",onClick:function(){n(h(0))}},"User#",t.userId):a.a.createElement("button",{type:"button",className:"TodoList__user-button--unselected",onClick:function(){n(h(t.userId))}},"User#",t.userId),a.a.createElement("button",{className:"TodoList__todo-button",onClick:function(){n(T(r.filter((function(e){return e.id!==t.id}))))}},"Remove Todo")))},M=(n(54),function(){var e=Object(o.c)(R),t=Object(C.e)(),n=new URLSearchParams(t.search),c=n.get("query")||"",u=n.get("sortBy")||"",l=Object(r.useMemo)((function(){if(!c)return e;var t=c.toLowerCase();return e.filter((function(e){var n=e.title;return" ".concat(n||"").toLowerCase().includes(t)}))}),[e,c]),s=Object(r.useMemo)((function(){if(!u||"all"===u)return l;var e="true"===u;return l.filter((function(t){return t.completed===e}))}),[u,l]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",null,s.map((function(e){return a.a.createElement("li",{key:e.id,className:"TodoList__item TodoList__item--unchecked"},a.a.createElement(q,{todo:e}))}))))}),X=function(){var e=Object(o.c)(y);return a.a.createElement("h3",{className:"error"},e)},F=function(){var e=Object(o.c)(I);return a.a.createElement("h3",{className:"error"},e)},P=function(){var e=Object(o.b)(),t=Object(o.c)(S),n=Object(o.c)(x),c=Object(C.e)(),u=new URLSearchParams(c.search).get("query")||"",l=function(){return e((function(e){v().then((function(t){e(T(t))})).catch((function(t){e({type:"TODOS_ERROR_STATE",value:!0}),e(function(e){return{type:"TODOS_ERROR_TEXT",value:e}}(t.message))}))}))};return Object(r.useEffect)((function(){e(j(u)),l()}),[]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement("h1",null,"Redux list of todos"),!1===n?a.a.createElement(A,null):a.a.createElement(F,null),a.a.createElement(B,null),!1===t?a.a.createElement(M,null):a.a.createElement(X,null)))},Y=function(){return a.a.createElement(o.a,{store:w},a.a.createElement(l.a,null,a.a.createElement(P,null)))};u.a.render(a.a.createElement(Y,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.12350854.chunk.js.map